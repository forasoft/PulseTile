<div class="row">
    <!-- START Main Content Area -->
        <!--<div class="row">-->
            <!--<div class="col-md-8">-->
                <!--<span class="patientSummary-spinner" us-spinner="{radius:20, width:8, length: 16}" spinner-key="patientSummary-spinner" spinner-start-active="true"></span>-->
            <!--</div>-->
        <!--</div>-->
        <!-- START Patient Dashboard -->
        <div class="dashboard row">
            <!-- START Board
                              Note: Make sure the 4th board always does a clear left
                              Note: In our design, all boards have 5 rows, so the board below
                                  (which might only have 2 records, would still output 5 rows - 3 would be blank.
                                  We've also set a height on each TD of 37px so that blank cells are the same / similar height,
                                  which will stretch if there's more content
                          -->
            <div class="board problems col-md-4">
                <h2><a ng-click="$ctrl.goToSection('Problems')"><i class="fa fa-stethoscope"></i> Problems</a>
                    <span class="resultcount" ng-if="$ctrl.diagnosesCount == 0">0 of 0</span>
                    <span class="resultcount" ng-if="$ctrl.diagnosesCount > 0 && $ctrl.diagnosesCount < 5">{{$ctrl.diagnosesCount}} of {{$ctrl.diagnosesCount}}</span>
                    <span class="resultcount" ng-if="$ctrl.diagnosesCount > 0 && $ctrl.diagnosesCount >= 5">5 of {{$ctrl.diagnosesCount}}</span>
                    <a ng-href="#/patients/{{patient.id}}/diagnoses" class="resultcount" ng-if="$ctrl.diagnosesCount > 0" style="padding-right: 10px;">View All</a>
                </h2>

                <table class="table table-striped clickable">
                    <tbody>
                    <tr ng-repeat="diagnosis in $ctrl.diagnoses" data-target="patient-detail.html">
                        <!--data target-->
                        <td ng-click="go('/patients/{{patient.id}}/diagnoses/{{diagnosis.sourceId}}')">{{ diagnosis.text }} <span class="glyphicon glyphicon-chevron-right"></span></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-- END Board -->

            <div class="board problems col-md-4">
                <h2><a ng-click="$ctrl.goToSection('Allergies')"><i class="fi-flag"></i> Allergies</a>
                    <span class="resultcount" ng-if="$ctrl.allergiesCount == 0">0 of 0</span>
                    <span class="resultcount" ng-if="$ctrl.allergiesCount > 0 && $ctrl.allergiesCount < 5">{{$ctrl.allergiesCount}} of {{$ctrl.allergiesCount}}</span>
                    <span class="resultcount" ng-if="$ctrl.allergiesCount > 0 && $ctrl.allergiesCount >= 5">5 of {{$ctrl.allergiesCount}}</span>
                    <a ui-sref="$ctrl.allergies({patientId: $ctrl.patient.id})" class="resultcount" ng-if="$ctrl.allergiesCount > 0" style="padding-right: 10px;">View All</a>
                </h2>

                <table class="table table-striped clickable">
                    <tbody>
                    <tr ng-repeat="allergy in $ctrl.allergies">
                        <td ng-click="go('/patients/{{patient.id}}/allergies/{{allergy.sourceId}}')">{{allergy.text}}<span class="glyphicon glyphicon-chevron-right"></span> </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="board problems col-md-4">
                <h2><a ng-click="$ctrl.goToSection('Medications')"><i class="fi-clipboard-pencil"></i> Medications</a>
                    <span class="resultcount" ng-if="$ctrl.medicationsCount == 0">0 of 0</span>
                    <span class="resultcount" ng-if="$ctrl.medicationsCount > 0 && $ctrl.medicationsCount < 5">{{$ctrl.medicationsCount}} of {{$ctrl.medicationsCount}}</span>
                    <span class="resultcount" ng-if="$ctrl.medicationsCount > 0 && $ctrl.medicationsCount >= 5">5 of {{$ctrl.medicationsCount}}</span>
                    <a ui-sref="medications({patientId: $ctrl.patient.id})" class="resultcount" ng-if="$ctrl.medicationsCount > 0" style="padding-right: 10px;">View All</a>
                </h2>

                <table class="table table-striped clickable">
                    <tbody>
                    <tr ng-repeat="medication in $ctrl.medications">
                        <td ng-click="go('/patients/{{patient.id}}/medications/{{medication.sourceId}}')"> {{ medication.text }}<span class="glyphicon glyphicon-chevron-right"></span></td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="board problems col-md-4">
                <h2><a ng-click="$ctrl.goToSection('Contacts')"><i class="fi-torsos-all"></i> Contacts</a>
                    <span class="resultcount" ng-if="$ctrl.contactsCount == 0">0 of 0</span>
                    <span class="resultcount" ng-if="$ctrl.contactsCount > 0 && $ctrl.contactsCount < 5">{{$ctrl.contactsCount}} of {{$ctrl.contactsCount}}</span>
                    <span class="resultcount" ng-if="$ctrl.contactsCount > 0 && $ctrl.contactsCount >= 5">5 of {{$ctrl.contactsCount}}</span>
                    <a ui-sref="contacts({patientId: $ctrl.patient.id})" class="resultcount" ng-if="$ctrl.contactsCount > 0" style="padding-right: 10px;">View All</a>
                </h2>

                <table class="table table-striped clickable">
                    <tbody>
                    <tr ng-repeat="contact in $ctrl.contacts">
                        <td ng-click="go('/patients/{{patient.id}}/contacts/{{contact.sourceId}}')"> {{ contact.text }} <span class="glyphicon glyphicon-chevron-right"></span></td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="board problems col-md-4">
                <h2><a ng-click="$ctrl.goToSection('Transfer')"><i class="fa fa-ambulance"></i> Transfer of Care</a>
                    <span class="resultcount" ng-if="$ctrl.transferofCaresCount == 0">0 of 0</span>
                    <span class="resultcount" ng-if="$ctrl.transferofCaresCount > 0 && $ctrl.transferofCaresCount < 5">{{$ctrl.transferofCaresCount}} of {{$ctrl.transferofCaresCount}}</span>
                    <span class="resultcount" ng-if="$ctrl.transferofCaresCount > 0 && $ctrl.transferofCaresCount >= 5">5 of {{$ctrl.transferofCaresCount}}</span>
                    <a ui-sref="transferOfCare({patientId: $ctrl.patient.id})" class="resultcount" ng-if="$ctrl.transferofCaresCount > 0" style="padding-right: 10px;">View All</a>
                </h2>

                <table class="table table-striped clickable">
                    <tbody>
                    <tr ng-repeat="transfer in $ctrl.transferofCareComposition">
                        <td ng-click="go('/patients/{{patient.id}}/transfer-of-care-detail/{{transfer.sourceId}}')">
                            <span class="glyphicon glyphicon-chevron-right"></span> From {{transfer.from}}
                            <br> to {{transfer.to}}
                            <br> {{transfer.dateOfTransfer | date:'dd-MMM-y' }}
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- END Patient Dashboard -->
    <!-- END Main Content Area -->
</div>

