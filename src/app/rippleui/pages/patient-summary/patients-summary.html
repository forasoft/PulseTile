<!--
  ~  Copyright 2016 Ripple Foundation C.I.C. Ltd
  ~  
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~  
  ~    http://www.apache.org/licenses/LICENSE-2.0

  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<div class="panel panel-primary">
  <div class="panel-heading">
    <div class="control-group left">
      <button class="btn btn-success btn-inverse dropdown-toggle"><i class="fa fa-cog"></i></button>
    </div>
    <h3 class="panel-title">Patient Summary</h3>
  </div>
  <div class="panel-body">
    <div class="dashboard">
      <div class="dashboard-item">
        <div class="board">
          <div class="board-header">
            <div class="control-group right">
              <button class="btn btn-success btn-inverse btn-board-more" ng-click="$ctrl.goToSection('Problems')"><i class="fa fa-caret-right"></i></button>
            </div>
            <h3 class="board-title">Problems</h3>
          </div>
          <div class="board-body">
            <ul class="board-list">
              <li class="board-list-item" ng-repeat="diagnosis in $ctrl.diagnoses" data-target="patient-detail.html">
                <!--data target-->
                <span class="board-list-link" ng-if="diagnosis.text" ng-click="go('/patients/'+$ctrl.patient.id+'/diagnoses/'+diagnosis.sourceId)">{{ diagnosis.text }}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="dashboard-item">
        <div class="board">
          <div class="board-header">
            <div class="control-group right">
              <button class="btn btn-success btn-inverse btn-board-more" ng-click="$ctrl.goToSection('Contacts')"><i class="fa fa-caret-right"></i></button>
            </div>
            <h3 class="board-title">Contacts</h3>
          </div>
          <div class="board-body">
            <ul class="board-list">
              <li class="board-list-item" ng-repeat="contact in $ctrl.contacts">
                <span class="board-list-link" ng-if="contact.text" ng-click="go('/patients/'+$ctrl.patient.id+'/contacts/'+contact.sourceId)">{{ contact.text }}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="dashboard-item">
        <div class="board">
          <div class="board-header">
            <div class="control-group right">
              <button class="btn btn-success btn-inverse btn-board-more" ng-click="$ctrl.goToSection('Allergies')"><i class="fa fa-caret-right"></i></button>
            </div>
            <h3 class="board-title">Allergies</h3>
          </div>
          <div class="board-body">
            <ul class="board-list">
              <li class="board-list-item" ng-repeat="allergy in $ctrl.allergies">
                <span class="board-list-link" ng-if="allergy.text" ng-click="go('/patients/'+$ctrl.patient.id+'/allergies/'+allergy.sourceId)">{{ allergy.text }}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="dashboard-item">
        <div class="board">
          <div class="board-header">
            <div class="control-group right">
              <button class="btn btn-success btn-inverse btn-board-more" ng-click="$ctrl.goToSection('Medications')"><i class="fa fa-caret-right"></i></button>
            </div>
            <h3 class="board-title">Medications</h3>
          </div>
          <div class="board-body">
            <ul class="board-list">
              <li class="board-list-item" ng-repeat="medication in $ctrl.medications">
                <span class="board-list-link" ng-if="medication.text" ng-click="go('/patients/'+$ctrl.patient.id+'/medications/'+medication.sourceId)">{{ medication.text }}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <!-- <div class="dashboard-item">
          <div class="board">
            <div class="board-header">
              <div class="control-group right">
                <button class="btn btn-success btn-inverse btn-board-more" ng-click="$ctrl.goToSection('Transfer')"><i class="fa fa-caret-right"></i></button>
              </div>
              <h3 class="board-title">Transfer of Care</h3>
            </div>
            <div class="board-body">
              <ul class="board-list">
                <li class="board-list-item" ng-repeat="transfer in $ctrl.transferofCareComposition">
                  <span class="board-list-link" ng-click="go('/patients/'+$ctrl.patient.id+'/transfer-of-care-detail/'+transfer.sourceId)">
                    From {{transfer.from}} <br>
                    to {{transfer.to}} <br>
                    {{transfer.dateOfTransfer | date:'dd-MMM-y' }}
                  </span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div> -->
    </div>

    <span class="patientSummary-spinner" us-spinner="{radius:20, width:8, length: 16}" spinner-key="patientSummary-spinner" spinner-start-active="true"></span>
    
  </div>
</div>

